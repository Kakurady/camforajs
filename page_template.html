<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Page Title</title>

  <script src="ext/d3/d3.js" charset="utf-8"></script>

<body>

<!-- run after the DOM is ready  -->
<script type="text/javascript">
  var s = d3.select("body").append("svg");

  s.attr("width", 800);
  s.attr("height", 480);

  var circle_selection = s.selectAll("circle");
  
  function renderGraphics(data){
    var circle_update = circle_selection.data(data);

    circle_update.enter()
      .append("circle")
      .classed("robot", true);
    circle_update
      .attr("cx", function(d) { return d[0]; })
      .attr("cy", function(d) { return d[1]; })
      .attr("r", 15);  
    circle_update.exit().remove();
  }
  
  function drawNextFrame(){
    renderGraphics(
      [[40, Date.now()/2 % 500]]   );
    window.requestAnimationFrame(drawNextFrame);
  }
  
  // FIXME: requestAnimationFrame won't work in IE9.
  // Whether we need to support China needs to be thought 
  window.requestAnimationFrame (drawNextFrame);  
  
  // it wasn't clear to me that, while data in d3 is "sticky", actions aren't, 
  // and I need to specify some action every time I update the data.
  // (And in fact, the actions can be different every time too. )
  // I'm not sure where did I get the incorrect idea? 
  
  // next up: make a small demo of moving stuff
</script>
</body>
</html>
