<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Page Title</title>

  <script src="ext/d3/d3.js" charset="utf-8"></script>

<body>

<!-- run after the DOM is ready  -->
<script type="text/javascript">
  var s = d3.select("body").append("svg");

  s.attr("width", 800);
  s.attr("height", 480);

  var circle_selection = s.selectAll("circle");
  var circle_update = circle_selection.data([
    [30,40], [50,60]
  ]);

  circle_update.enter()
    .append("circle")
    .classed("robot", true);
  circle_update
    .attr("cx", function(d) { return d[0]; })
    .attr("cy", function(d) { return d[1]; })
    .attr("r", 15);  
  circle_update.exit().remove();

  window.requestAnimationFrame(function() {
    circle_selection.data([
      [50, 60], [70, 80], [90, 100]
    ])
    .enter()
    .append("circle"); 
    // does nothing, because no action specified 
    //(and d3 only remembers the data, but not the actions)
    
    // this throws - why?
    circle_selection.data([50, 60], [70, 80])
    //.enter()
    //.append("circle")
    //.classed("robot", true)
    //.attr("cx", function(d) { return d[0]; })
    //.attr("cy", function(d) { return d[1]; })
    //.attr("r", 15)
    .exit().remove();
  });
  
  // it wasn't clear to me that, while data in d3 is "sticky", actions aren't, 
  // and I need to specify some action every time I update the data.
  // (And in fact, the actions can be different every time too. )
  // I'm not sure where did I get the incorrect idea? 
  
  // next up: make a small demo of moving stuff
</script>
</body>
</html>
